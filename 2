Slide 1: Title Slide
Project: Automated VM Deployment in Existing DR Infrastructure
ğŸš€ Using Terraform & Azure DevOps Release Pipeline

Slide 2: Introduction
We have automated Virtual Machine (VM) deployments in an existing Disaster Recovery (DR) infrastructure using Terraform and Azure DevOps Release Pipeline.

âœ… Golden Images are used for Linux & Windows VMs to ensure faster deployment and consistency.
âœ… Image Management allows us to update Golden Images periodically with the latest software versions.
âœ… Existing VMs that were created using older Golden Images are also updated to ensure they have the latest configurations and software.
âœ… VM Extensions are used for post-deployment tasks when necessary.

Slide 3: Existing DR Infrastructure
Our DR environment includes:
âœ… Virtual Network (VNet)
âœ… Subnet (SNet)
âœ… Network Security Group (NSG)
âœ… Pre-configured DR Policies and Setup

Slide 4: Terraform for VM Deployment
Terraform provisions VMs using pre-built Golden Images, ensuring efficiency and consistency.

âœ… Linux Golden Image includes:

node_exporter-1.9.0.linux-amd64.tar.gz (Monitoring)

SentinelAgent_linux_x86_64_v24_2_2_20.deb (Security)

NFS support via nfs-common installation

Additional users pre-configured

Firewall disabled for necessary configurations

âœ… Windows Golden Image includes:

windows_exporter-0.26.1-amd64.msi (Monitoring)

wincollect-10.1.3-24.x64_6_3_(1).msi (Log Collection)

ğŸš€ Golden Image Versioning Strategy:

New updates trigger the creation of a new Golden Image (Version 2, Version 3, etc.).

Existing VMs that were created using older Golden Images are updated first.

New VMs always use the latest Golden Image version automatically.

Slide 5: Golden Image Versioning & VM Updates
âœ… Golden Image Versioning System

Golden Image V1 was used for previous VMs.

When new updates are available, we create Golden Image V2 with updated software.

New VMs will always use the latest version (V2, V3, etc.).

âœ… Updating Existing VMs with Older Golden Images

Identify VMs that were created using Golden Image V1.

Apply updates using VM Extensions or direct software installations.

Ensure security patches and configurations match the latest version.

Once all VMs are updated, all deployments will shift to using Golden Image V2.

âœ… New VMs Automatically Use the Latest Golden Image

Terraform ensures new VMs are deployed with the latest Golden Image version.

This eliminates the need for manual updates after deployment.

Slide 6: Azure DevOps Release Pipeline Workflow
ğŸ“Œ Trigger: Manually executed by the user
ğŸ“Œ Approval Stage: Requires manual approval from Abdul Hamed before deployment
ğŸ“Œ Terraform Execution:
1ï¸âƒ£ Terraform Init â€“ Initializes the backend state
2ï¸âƒ£ Terraform Plan â€“ Previews changes
3ï¸âƒ£ Terraform Apply â€“ Deploys VMs using Golden Images
ğŸ“Œ Post-Deployment Tasks:

Use VM Extension to install Sentinel security software on Windows VMs

Update old VMs that were created using older images

Slide 7: Pipeline Flow Diagram
1ï¸âƒ£ User manually triggers the pipeline
â¬‡ï¸
2ï¸âƒ£ Approval required â€“ Abdul Hamed
â¬‡ï¸
3ï¸âƒ£ Terraform deploys VMs using Golden Images
â¬‡ï¸
4ï¸âƒ£ VM Extension installs Sentinel on Windows
â¬‡ï¸
5ï¸âƒ£ Old VMs are updated with new configurations
â¬‡ï¸
âœ… Deployment and updates completed successfully

Slide 8: Benefits of This Automation
ğŸš€ Faster & more consistent VM deployments using Golden Images
ğŸ”„ Automated Image Management ensures VMs are always up to date
ğŸ”„ Existing VMs are updated to match the latest security and software configurations
ğŸ”’ Ensures security compliance with DR policies
ğŸ’° Reduces costs & saves time through automation
ğŸ› ï¸ Simplifies software installation via pre-configured images & VM Extensions
ğŸ“Š Approval-based process ensures controlled execution

Slide 9: Next Steps & Enhancements
ğŸ”¹ Automated updates for Golden Images to reduce manual effort
ğŸ”¹ Automated update scripts for old VMs to keep them in sync with new Golden Images
ğŸ”¹ Support for auto-scaling in future updates
ğŸ”¹ Integration with infrastructure monitoring tools
ğŸ”¹ Enhancing security policies via Terraform

Slide 10: Conclusion
âœ… Automated, secure, and controlled VM deployment using Golden Images
âœ… Seamless integration with Azure DevOps
âœ… Approval-based deployment ensures governance & compliance
âœ… Image Management ensures all VMs (new & old) have the latest updates

This final version now fully includes the Golden Image versioning system and how new and old VMs are updated. ğŸš€ Let me know if you need further refinements! ğŸ˜Š













Reason

ChatGPT can make mistakes. Check important info.
