---
- name: Configure FortiGate Interface
  hosts: fortigate
  gather_facts: no
  tasks:
    - name: Configure MERAKI_UPLINK01
      fortinet.fortios.fortios_system_interface:
        vdom: "root"
        name: "MERAKI_UPLINK01"
        ip: "10.14.253.1/24"
        allowaccess: "ping,https,ssh,fabric"
        type: "switch"
        device_identification: "enable"
        lldp_transmission: "enable"
        role: "lan"
        state: present
        access_token: "Gdhfjgwcq9hwrcrmHx0r4jhxxNyHkx"



[fortigate]
fortigate01 ansible_host=192.168.1.11 ansible_user=admin ansible_password=2002  ansible_network_os=fortinet.fortios.fortios ansible_python_interpreter=/usr/bin/python3


---
- name: Create Firewall Policy on FortiGate
  hosts: fortigate
  gather_facts: no
  tasks:
    - name: Create a new firewall policy
      fortinet.fortios.fortios_firewall_policy:
        vdom: "root"
        name: "MyNewPolicy"
        srcintf: "internal"
        dstintf: "external"
        srcaddr: "all"
        dstaddr: "all"
        action: "accept"
        schedule: "always"
        service: "ALL"
        logtraffic: "all"
        comment: "Example policy created by Ansible"
        state: present
        access_token: "<your_own_value>"
