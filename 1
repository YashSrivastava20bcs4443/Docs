if __name__ == "__main__":
    logging.info("Starting the script...")
    
    # Fetch all storage devices
    devices = fetch_data("objects/storages")
    if not devices or "data" not in devices:
        logging.error("No storage devices found!")
    else:
        for device in devices["data"]:
            storage_device_id = device["storageDeviceId"]
            logging.info(f"Exploring storage device: {storage_device_id}")
            
            # Discover resources
            base_info = discover_resources(storage_device_id)
            if base_info:
                logging.info(f"Discovered basic info for {storage_device_id}: {base_info}")
            else:
                logging.warning(f"Failed to fetch basic info for {storage_device_id}.")
            
            # Test additional resources
            for resource in ["ldevs", "pools", "controllers", "hardware", "monitoring"]:
                logging.info(f"Fetching {resource} data for storage device ID: {storage_device_id}")
                data = fetch_resource(storage_device_id, resource)
                if data:
                    logging.info(f"Data for {resource}: {data}")
                else:
                    logging.warning(f"No data found for resource: {resource}")
