# DNS Zone Name
$zoneName = "example.com"

# Define records to manage
$records = @(
    @{ OldARecord = "test1.com"; NewARecord = "test1_dr.com" },
    @{ OldARecord = "test2.com"; NewARecord = "test2_dr.com" }
    # Add more records as needed
)

# Loop through each record
foreach ($record in $records) {
    $oldARecord = $record.OldARecord
    $newARecord = $record.NewARecord
    
    # Create New A Record
    Add-DnsServerResourceRecordA -Name $newARecord -IPv4Address "192.168.1.1" -ZoneName $zoneName -CreatePtr $true

    # Delete Old A Record
    Remove-DnsServerResourceRecordA -Name $oldARecord -ZoneName $zoneName -Confirm:$false
    
    # Create CNAME Record
    Add-DnsServerResourceRecordCName -Name $oldARecord -HostNameAlias $newARecord -ZoneName $zoneName
}

Write-Host "DNS records updated successfully."
