import requests
from requests.auth import HTTPBasicAuth

# Replace with your Unity system details
unity_ip = "10.1.3.96"
username = "your_username"
password = "your_password"

# API endpoint to get system capacity details (modify according to your API structure)
url = f"https://{unity_ip}/api/types/systemCapacity"

# Authentication
auth = HTTPBasicAuth(username, password)

# Disable SSL warnings
requests.packages.urllib3.disable_warnings(requests.packages.urllib3.exceptions.InsecureRequestWarning)

# Make the GET request
response = requests.get(url, auth=auth, verify=False)

# Check if the response is JSON and process the data
if response.status_code == 200 and response.headers['Content-Type'] == 'application/json':
    data = response.json()
    
    # Now you have all the data, print or process it as needed
    print("Full Data:", data)
    
    # Example of filtering data
    filtered_data = [item for item in data['entries'] if item['content']['name'] == 'desired_name']
    
    # Print the filtered data
    print("Filtered Data:", filtered_data)
else:
    print(f"Failed to fetch data, status code: {response.status_code}")
    print("Response content:", response.text)
