# Click on the duration button first
try:
    duration_button = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.XPATH, "//span[contains(@class, 'x-btn duration-button no-shadow-link-button x-unselectable x-box-item x-toolbar-item x-btn-plain-small link-button no-padding')]"))
    )
    duration_button.click()
    time.sleep(3)  # Wait for the drop-down to appear

    # Click on the 'Last 30 Days' option
    last_30_days_option = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.XPATH, "//div[contains(text(), 'Last 30 Days')]"))
    )
    last_30_days_option.click()
    time.sleep(5)  # Wait for the data to load

    # Proceed with the zoom and screenshot
    performance_screenshot = f"{screenshot_dir}/Performance_screenshot.png"
    set_zoom(driver, 0.5)
    driver.save_screenshot(performance_screenshot)

    # Reset zoom to 100%
    set_zoom(driver, 1)

except Exception as e:
    print(f"Failed to click on 'duration button' or 'Last 30 Days': {e}")
