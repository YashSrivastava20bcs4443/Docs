# Find all rows containing alerts
rows = driver.find_elements(By.XPATH, "//div[contains(@class, 'fxc-gc-row')]")

# Iterate through each row containing an alert
for index, row in enumerate(rows, 1):
    try:
        # Scroll the row into view
        action = ActionChains(driver)
        action.move_to_element(row).perform()

        # Wait for the third column to be clickable
        third_column = WebDriverWait(row, 10).until(
            EC.element_to_be_clickable((By.XPATH, ".//div[@class='fxc-gc-cell fxc-gc-columncell_0_2']//a[@class='fxc-gcflink-link']"))
        )

        # Click on the third column
        third_column.click()

        # Wait for the new page to load
        time.sleep(5)  # You might need to adjust the wait time

        # Scroll to the top of the page to ensure element visibility
        driver.find_element(By.TAG_NAME, 'body').send_keys(Keys.HOME)

        # Take a screenshot of the page
        driver.save_screenshot(f"screenshot_{index}.png")

        # Go back to the previous page (the alert details)
        driver.execute_script("window.history.go(-1)")

        # Wait for the page to load
        time.sleep(5)  # You might need to adjust the wait time

    except StaleElementReferenceException:
        print("Stale element reference: Element is no longer attached to the DOM")
        continue

    except NoSuchElementException:
        print("No such element found")
        continue

    except Exception as e:
        print(f"An error occurred: {str(e)}")
        continue
